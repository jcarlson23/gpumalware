#include <iostream>
#include "matrix.h"
#include <fstream>

using namespace std;

int main( int argc, char *argv[] )
{
  Matrix m(3,4);
  m.Element(0,0) = 1;
  cout << "m(0,0) = 1" << endl;
  m.Element(1,1) = 2;
  cout << "m(1,1) = 2" << endl;
  m.Element(2,1) = 3;
  cout << "m(2,1) = 3" << endl;
  m.Element(1,2) = 4;
  cout << "m(1,2) = 4" << endl;
  float x = m.Element(1,1);
  cout << "Testing..." << endl;
  cout << "X = " << x << endl;
  cout << "Testing outstream " << endl;
  cout << m << endl;

  // let's capture a Row
  Matrix* topRow = m.Row(0);
  cout << (*topRow);
  cout << "Top row..." << endl << endl;

  // let's capture the second Column
  Matrix* secCol = m.Column(1);
  cout << (*secCol);
  cout << "Second column..." << endl << endl;

  // Normalize our matrix by Cols...
  m.NormalizeCols();
  cout << "Normalized Columns" << endl;
  cout << m << endl;

  // let's write to a file
  fstream filestream;
  filestream.open("matrix.txt", fstream::out);
  if ( filestream.is_open() )
    {
      filestream << "Matrix m " << endl;
      filestream << m << endl;
      filestream << endl << "Top Row" << endl << *topRow << endl;
      filestream << endl << "Second Column" << endl << *secCol << endl;
      filestream.close();
    } else {
    cout << "Wasn't able to open a test file to write to" << endl;
  }

  delete topRow;
  delete secCol;

  return 0;
}
